apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "routeiq-gateway.configMapName" . }}
  labels:
    {{- include "routeiq-gateway.labels" . | nindent 4 }}
data:
  # Gateway configuration file
  config.yaml: |
    {{- .Values.config.gateway | nindent 4 }}
  {{- range $filename, $content := .Values.config.additionalConfigs }}
  {{ $filename }}: |
    {{- $content | nindent 4 }}
  {{- end }}
